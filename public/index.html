<!doctype html>
<html>
<head>
	<title>PiFX</title>

	<link rel="stylesheet" href="css/style.css"/>

	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js"></script>
	<script type="text/javascript" src="/js/tinycolor.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.10/socket.io.min.js"></script>
	<script type="text/javascript" src="/js/animationViewModel.js"></script>
	<script type="text/javascript" src="/js/functions.js"></script>
	<script type="text/javascript" src="/js/config.js"></script>
	<script type="text/javascript" src="/js/animations.js"></script>

	<link href="https://netdna.bootstrapcdn.com/bootswatch/2.1.1/cyborg/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container-fluid">
	<div class="row-fluid">
		<div class="span12">
			<h3>PiFX Console</h3>
		</div>
	</div>

	<div class="row-fluid animations">
		<div class="span3 add-animation well"
		     data-bind="template: { name: 'animations-list-template', data: availableAnimations }">
		</div>
		<div class="panel span3 active-animation well"
		     data-bind="template: { name: 'animation-template', data: currentAnimation }">
		</div>
	</div>
</div>

<!--start ko templates-->

<script type="text/html" id="animation-template">
		<div class="row-fluid">
			<div class="span7"><h3 data-bind="text: config.name"></h3></div>
			<div class="span5"><a class="close" href="#" data-bind="click: onCloseAnimationClick">Ã—</a></div>
		</div>
		<div class="row-fluid" data-bind="foreach: controls">
			<div class="config color" data-type="color" data-bind="visible: type() === 'color'">
				<span class="spectrum"></span>
				<input type="range" min="0" max="360" step="1" class="hue" data-bind="attr:{value: value() || 0}"/>
			</div>

			<div class="config select" data-type="select" data-bind="visible: type() === 'select'">
				<label data-bind="name"></label>
				<select data-bind="choices">
					<option data-bind="text: title"></option>
				</select>
			</div>

			<div class="config range" data-type="range" data-bind="visible: type() === 'range'">
				<label data-bind="config.name"></label>
				<input type="range"
				       data-bind="attr: {min: min() || 0, max: max() || 1, step: step() || 1, value: value() || 0}"/>
			</div>
		</div>
	</div>
</script>

<script type="text/html" id="animations-list-template">
	<h5>Add Animation</h5>
	<table class="table availableAnimations">
		<tbody data-bind="foreach: animations">
		<tr>
			<td data-bind="text: name"></td>
			<td>
				<button class="btn btn-inverse add" data-anim-index="0"
				        data-bind="click: $parent.onAddAnimationClick">Add
				</button>
			</td>
		</tr>
		</tbody>
	</table>
</script>

<!--end ko templates-->

</body>
</html>